(()=>{var e={};e.id=6723,e.ids=[6723],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},1285:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(47836),s(95315),s(68295),s(99287),s(54864);var t=s(23191),a=s(88716),i=s(37922),l=s.n(i),o=s(95231),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(r,n);let c=["",{children:["(app)",{children:["listeclient",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,47836)),"C:\\Users\\sidia\\OneDrive\\Documents\\App\\Loan 2\\src\\app\\(app)\\listeclient\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,95315)),"C:\\Users\\sidia\\OneDrive\\Documents\\App\\Loan 2\\src\\app\\(app)\\layout.js"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,68295)),"C:\\Users\\sidia\\OneDrive\\Documents\\App\\Loan 2\\src\\app\\layout.js"],loading:[()=>Promise.resolve().then(s.bind(s,99287)),"C:\\Users\\sidia\\OneDrive\\Documents\\App\\Loan 2\\src\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,54864)),"C:\\Users\\sidia\\OneDrive\\Documents\\App\\Loan 2\\src\\app\\not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\sidia\\OneDrive\\Documents\\App\\Loan 2\\src\\app\\(app)\\listeclient\\page.js"],p="/(app)/listeclient/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(app)/listeclient/page",pathname:"/listeclient",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},18501:(e,r,s)=>{Promise.resolve().then(s.bind(s,47503))},47503:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var t=s(10326),a=s(30110);s(9684),s(78773),s(98420),s(24383),s(28145),s(86296),s(54506),s(98495),s(95963);var i=s(17577),l=s(35047),o=s(80235),n=s(31205);let c=()=>{let[e,r]=(0,i.useState)([]),[s,c]=(0,i.useState)([]),d=(0,l.useRouter)();(0,i.useEffect)(()=>{o.Z.get("/api/clients/valides").then(e=>{r(e.data)}).catch(e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des clients valides:",e)}),o.Z.get("/api/clients/invalides").then(e=>{c(e.data)}).catch(e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des clients invalides:",e)})},[]);let p=async(e,s)=>{e.preventDefault();try{let e=await o.Z.post(`/api/clients/${s}/activer`);e.data.message?(alert("Client activ\xe9 avec succ\xe8s"),o.Z.get("/api/clients/valides").then(e=>{r(e.data)}).catch(e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des clients valides:",e)}),o.Z.get("/api/clients/invalides").then(e=>{c(e.data)}).catch(e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des clients invalides:",e)})):alert("Erreur: "+e.data.error)}catch(e){console.error("Erreur lors de l'activation du client:",e),alert("Une erreur est survenue.")}},u=e=>{d.push(`/user-info?clientId=${e}`)},m=(0,i.useMemo)(()=>[{Header:"#",accessor:"id"},{Header:"email",accessor:"email"},{Header:"Nom",accessor:"name"},{Header:"Pr\xe9nom",accessor:"prenom"},{Header:"Num\xe9ro",accessor:"tel"}],[]),h=(0,i.useMemo)(()=>[{Header:"#",accessor:"id"},{Header:"email",accessor:"email"},{Header:"Nom",accessor:"name"},{Header:"Pr\xe9nom",accessor:"prenom"},{Header:"Num\xe9ro",accessor:"tel"},{Header:"Actions",accessor:"actions",Cell:({row:e})=>t.jsx("button",{onClick:r=>p(r,e.original.id),className:"badge bg-success",children:"Activer"})}],[]),{getTableProps:x,getTableBodyProps:v,headerGroups:g,rows:j,prepareRow:P}=(0,n.useTable)({columns:m,data:e}),{getTableProps:b,getTableBodyProps:f,headerGroups:y,rows:q,prepareRow:N}=(0,n.useTable)({columns:h,data:s});return(0,t.jsxs)(t.Fragment,{children:[t.jsx(a.Z,{title:"Dashboard"}),t.jsx("main",{id:"main",className:"main",children:t.jsx("section",{className:"section",style:{borderRadius:"20px"},children:(0,t.jsxs)("div",{className:"row",children:[t.jsx("div",{className:"col-lg-12",children:t.jsx("div",{className:"card overflow-auto",children:(0,t.jsxs)("div",{className:"card-body",children:[t.jsx("h5",{className:"card-title",children:"Liste des clients valides"}),(0,t.jsxs)("table",{...x(),className:"table",children:[t.jsx("thead",{children:g.map(e=>t.jsx("tr",{...e.getHeaderGroupProps(),children:e.headers.map(e=>t.jsx("th",{...e.getHeaderProps(),children:e.render("Header")}))}))}),t.jsx("tbody",{...v(),children:j.map(e=>(P(e),t.jsx("tr",{...e.getRowProps(),onClick:()=>u(e.original.id),style:{cursor:"pointer"},children:e.cells.map(e=>t.jsx("td",{...e.getCellProps(),children:e.render("Cell")}))})))})]})]})})}),t.jsx("div",{className:"col-lg-12",children:t.jsx("div",{className:"card overflow-auto",children:(0,t.jsxs)("div",{className:"card-body",children:[t.jsx("h5",{className:"card-title",children:"Liste des clients non valides"}),(0,t.jsxs)("table",{...b(),className:"table",children:[t.jsx("thead",{children:y.map(e=>t.jsx("tr",{...e.getHeaderGroupProps(),children:e.headers.map(e=>t.jsx("th",{...e.getHeaderProps(),children:e.render("Header")}))}))}),t.jsx("tbody",{...f(),children:q.map(e=>(N(e),t.jsx("tr",{...e.getRowProps(),children:e.cells.map(e=>t.jsx("td",{...e.getCellProps(),children:e.render("Cell")}))})))})]})]})})})]})})})]})}},47836:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`C:\Users\sidia\OneDrive\Documents\App\Loan 2\src\app\(app)\listeclient\page.js#default`)},95963:()=>{},98420:()=>{},78773:()=>{},24383:()=>{},86296:()=>{},28145:()=>{},54506:()=>{},98495:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[8948,4149,4099,4040,4305,1205,5451,1844],()=>s(1285));module.exports=t})();