(()=>{var e={};e.id=40,e.ids=[40],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},90692:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>d.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>o,routeModule:()=>m,tree:()=>c}),a(24814),a(95315),a(68295),a(99287),a(54864);var r=a(23191),t=a(88716),i=a(37922),d=a.n(i),l=a(95231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);a.d(s,n);let c=["",{children:["(app)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,24814)),"C:\\Users\\sidia\\OneDrive\\Documents\\App\\Loan 2\\src\\app\\(app)\\dashboard\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,95315)),"C:\\Users\\sidia\\OneDrive\\Documents\\App\\Loan 2\\src\\app\\(app)\\layout.js"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,68295)),"C:\\Users\\sidia\\OneDrive\\Documents\\App\\Loan 2\\src\\app\\layout.js"],loading:[()=>Promise.resolve().then(a.bind(a,99287)),"C:\\Users\\sidia\\OneDrive\\Documents\\App\\Loan 2\\src\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(a.bind(a,54864)),"C:\\Users\\sidia\\OneDrive\\Documents\\App\\Loan 2\\src\\app\\not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["C:\\Users\\sidia\\OneDrive\\Documents\\App\\Loan 2\\src\\app\\(app)\\dashboard\\page.js"],p="/(app)/dashboard/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/(app)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},15417:(e,s,a)=>{Promise.resolve().then(a.bind(a,15840))},15840:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n});var r=a(10326),t=a(17577),i=a(80235),d=a(30110);a(9684),a(78773),a(98420),a(24383),a(28145),a(86296),a(54506),a(98495),a(95963);var l=a(31205);let n=()=>{let[e,s]=(0,t.useState)({demandes:[],demandesPublics:[],demandeCount:0,demandeApprouveCount:0,montantTotal:0,demandePublicCount:0,montantTotalPublic:0,demandePublicApprouveCount:0}),[a,n]=(0,t.useState)(!0),[c,o]=(0,t.useState)(null);(0,t.useEffect)(()=>{i.Z.get("/api/dashboard-data").then(e=>{s(e.data),n(!1)}).catch(e=>{o(e.response?e.response.data.error:"Une erreur est survenue"),n(!1)})},[]);let p=(0,t.useMemo)(()=>[{Header:"#",accessor:"id"},{Header:"Client",accessor:e=>`${e.client.nom} ${e.client.prenom}`},{Header:"E-mail Client",accessor:"client.email"},{Header:"Projet",accessor:"projet"},{Header:"Montant",accessor:"montant_voulu",Cell:({value:e})=>`€${e}`},{Header:"Reste",accessor:"montant_restant",Cell:({value:e})=>`€${e<0?0:e}`},{Header:"Statut",accessor:"statut",Cell:({value:e})=>r.jsx("span",{className:`badge bg-€{value === 'valide' || value === 'paid' ? 'success' : (value === 'pending' ? 'warning' : 'danger')}`,children:e})},{Header:"Description",accessor:"description",Cell:({value:e})=>r.jsx("div",{className:"scrolling-text",children:e})}],[]),u=(0,t.useMemo)(()=>[{Header:"#",accessor:"id"},{Header:"E-mail",accessor:"email"},{Header:"Projet",accessor:"projet"},{Header:"Montant Voulu",accessor:"montant_voulu",Cell:({value:e})=>`€${e}`},{Header:"Montant Restant",accessor:"montant_restant",Cell:({value:e})=>`€${e<0?0:e}`},{Header:"Statut",accessor:"statut",Cell:({value:e})=>r.jsx("span",{className:`badge bg-€{value === 'valide' || value === 'paid' ? 'success' : (value === 'pending' ? 'warning' : 'danger')}`,children:e})},{Header:"Description",accessor:"description",Cell:({value:e})=>r.jsx("div",{className:"scrolling-text",children:e})}],[]),m=(0,l.useTable)({columns:p,data:e.demandes}),h=(0,l.useTable)({columns:u,data:e.demandesPublics}),{getTableProps:x,getTableBodyProps:j,headerGroups:v,rows:b,prepareRow:g}=m,{getTableProps:N,getTableBodyProps:P,headerGroups:f,rows:C,prepareRow:y}=h;return a?r.jsx("div",{children:"Chargement..."}):c?r.jsx("div",{children:c}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(d.Z,{title:"Dashboard"}),(0,r.jsxs)("main",{id:"main",className:"main",children:[(0,r.jsxs)("div",{className:"pagetitle",children:[r.jsx("h1",{children:"Dashboard"}),r.jsx("nav",{children:(0,r.jsxs)("ol",{className:"breadcrumb",children:[r.jsx("li",{className:"breadcrumb-item",children:r.jsx("a",{href:"index.html",children:"Accueil"})}),r.jsx("li",{className:"breadcrumb-item active",children:"Dashboard"})]})})]}),r.jsx("section",{className:"section dashboard",children:r.jsx("div",{className:"row",children:r.jsx("div",{className:"col-lg-12",children:(0,r.jsxs)("div",{className:"row",children:[r.jsx("div",{className:"col-xxl-4 col-md-6",children:r.jsx("div",{className:"card info-card sales-card",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("h5",{className:"card-title",children:["Nombre de demandes ",r.jsx("span",{children:"| Clients"})]}),(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[r.jsx("div",{className:"card-icon rounded-circle d-flex align-items-center justify-content-center",children:r.jsx("i",{className:"bi bi-journal-bookmark-fill"})}),r.jsx("div",{className:"ps-3",children:r.jsx("h6",{children:e.totalDemandesCount})})]})]})})}),r.jsx("div",{className:"col-xxl-4 col-md-6",children:r.jsx("div",{className:"card info-card revenue-card",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("h5",{className:"card-title",children:["Montant des demandes ",r.jsx("span",{children:"| Total"})]}),(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[r.jsx("div",{className:"card-icon rounded-circle d-flex align-items-center justify-content-center",children:r.jsx("i",{className:"bi bi-currency-dollar"})}),r.jsx("div",{className:"ps-3",children:(0,r.jsxs)("h6",{children:["€",e.montantTotal]})})]})]})})}),r.jsx("div",{className:"col-xxl-4 col-xl-12",children:r.jsx("div",{className:"card info-card customers-card",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("h5",{className:"card-title",children:["Demandes approuv\xe9es ",r.jsx("span",{children:"| Total"})]}),(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[r.jsx("div",{className:"card-icon rounded-circle d-flex align-items-center justify-content-center",children:r.jsx("i",{className:"bi bi-building-check"})}),r.jsx("div",{className:"ps-3",children:r.jsx("h6",{children:e.totalApprouveCount})})]})]})})}),r.jsx("div",{className:"col-12",children:r.jsx("div",{className:"card recent-sales overflow-auto",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("h5",{className:"card-title",children:["Bilan ",r.jsx("span",{children:"| Demandes"})]}),(0,r.jsxs)("table",{...x(),className:"table table-borderless",children:[r.jsx("thead",{children:v.map(e=>r.jsx("tr",{...e.getHeaderGroupProps(),children:e.headers.map(e=>r.jsx("th",{...e.getHeaderProps(),children:e.render("Header")}))}))}),r.jsx("tbody",{...j(),children:b.map(e=>(g(e),r.jsx("tr",{...e.getRowProps(),children:e.cells.map(e=>r.jsx("td",{...e.getCellProps(),children:e.render("Cell")}))})))})]})]})})}),r.jsx("div",{className:"col-12",children:r.jsx("div",{className:"card recent-sales overflow-auto",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("h5",{className:"card-title",children:["Bilan ",r.jsx("span",{children:"| Demandes Publiques"})]}),(0,r.jsxs)("table",{...N(),className:"table table-borderless",children:[r.jsx("thead",{children:f.map(e=>r.jsx("tr",{...e.getHeaderGroupProps(),children:e.headers.map(e=>r.jsx("th",{...e.getHeaderProps(),children:e.render("Header")}))}))}),r.jsx("tbody",{...P(),children:C.map(e=>(y(e),r.jsx("tr",{...e.getRowProps(),children:e.cells.map(e=>r.jsx("td",{...e.getCellProps(),children:e.render("Cell")}))})))})]})]})})})]})})})})]})]})}},24814:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`C:\Users\sidia\OneDrive\Documents\App\Loan 2\src\app\(app)\dashboard\page.js#default`)},95963:()=>{},98420:()=>{},78773:()=>{},24383:()=>{},86296:()=>{},28145:()=>{},54506:()=>{},98495:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[8948,4149,4099,4040,4305,1205,5451,1844],()=>a(90692));module.exports=r})();