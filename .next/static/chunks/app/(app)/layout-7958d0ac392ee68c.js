(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5814],{60254:function(e,s,t){Promise.resolve().then(t.bind(t,2708))},98219:function(e,s,t){"use strict";var r=t(57437);s.Z=()=>(0,r.jsx)("div",{className:"flex min-h-screen w-full items-center justify-center bg-gray-100",children:"Loading..."})},2708:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return j}});var r=t(57437),a=t(30349),i=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"70",height:"70",fill:"currentColor",className:"bi bi-bank",viewBox:"0 0 16 16",children:(0,r.jsx)("path",{d:"m8 0 6.61 3h.89a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5H15v7a.5.5 0 0 1 .485.38l.5 2a.498.498 0 0 1-.485.62H.5a.498.498 0 0 1-.485-.62l.5-2A.5.5 0 0 1 1 13V6H.5a.5.5 0 0 1-.5-.5v-2A.5.5 0 0 1 .5 3h.89zM3.777 3h8.447L8 1zM2 6v7h1V6zm2 0v7h2.5V6zm3.5 0v7h1V6zm2 0v7H12V6zM13 6v7h1V6zm2-1V4H1v1zm-.39 9H1.39l-.25 1h13.72z"})}),n=t(2265),l=t(47374),o=t(66273),d=e=>{let s,{align:t="right",width:a=48,contentClasses:i="py-1 bg-white",trigger:d,children:c}=e;switch("48"===a&&(a="w-48"),t){case"left":s="origin-top-left left-0";break;case"top":s="origin-top";break;default:s="origin-top-right right-0"}return(0,r.jsx)(l.v2,{as:"div",className:"relative",children:e=>{let{open:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.v2.Button,{as:n.Fragment,children:d}),(0,r.jsx)(o.u,{show:t,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,r.jsx)("div",{className:"absolute z-50 mt-2 ".concat(a," rounded-md shadow-lg ").concat(s),children:(0,r.jsx)(l.v2.Items,{className:"rounded-md focus:outline-none ring-1 ring-black ring-opacity-5 ".concat(i),static:!0,children:c})})})]})}})},c=t(87138),h=e=>{let{active:s=!1,children:t,...a}=e;return(0,r.jsx)(c.default,{...a,className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium leading-5 focus:outline-none transition duration-150 ease-in-out ".concat(s?"border-indigo-400 text-gray-900 focus:border-indigo-700":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:text-gray-700 focus:border-gray-300"),children:t})};let u=e=>(0,r.jsx)("button",{className:"block w-full pl-3 pr-4 py-2 border-l-4 text-left text-base font-medium leading-5 focus:outline-none transition duration-150 ease-in-out border-transparent text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300",...e});var x=e=>{let{active:s=!1,children:t,...a}=e;return(0,r.jsx)(c.default,{...a,className:"block pl-3 pr-4 py-2 border-l-4 text-base font-medium leading-5 focus:outline-none transition duration-150 ease-in-out ".concat(s?"border-indigo-400 text-indigo-700 bg-indigo-50 focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700":"border-transparent text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300"),children:t})};let m=e=>{let{children:s,...t}=e;return(0,r.jsx)(l.v2.Item,{children:e=>{let{active:a}=e;return(0,r.jsx)("button",{className:"w-full text-left block px-4 py-2 text-sm leading-5 text-gray-700 ".concat(a?"bg-gray-100":""," focus:outline-none transition duration-150 ease-in-out"),...t,children:s})}})};var f=t(16463),p=e=>{let{user:s}=e,{logout:t}=(0,a.a)(),[l,o]=(0,n.useState)(!1);return(0,r.jsxs)("nav",{className:"bg-white border-b border-gray-100",children:[(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,r.jsx)(c.default,{href:"/dashboard",children:(0,r.jsx)(i,{className:"block h-10 w-auto fill-current text-gray-600"})})}),(0,r.jsx)("div",{className:"hidden space-x-8 sm:-my-px sm:ml-10 sm:flex",children:(0,r.jsx)(h,{href:"/dashboard",active:"/dashboard"===(0,f.usePathname)(),children:"Dashboard"})})]}),(0,r.jsx)("div",{className:"hidden sm:flex sm:items-center sm:ml-6",children:(0,r.jsxs)(d,{align:"right",width:"48",trigger:(0,r.jsxs)("button",{className:"flex items-center text-sm font-medium text-gray-500 hover:text-gray-700 focus:outline-none transition duration-150 ease-in-out",children:[(0,r.jsx)("div",{children:null==s?void 0:s.name}),(0,r.jsx)("div",{className:"ml-1",children:(0,r.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),children:[(0,r.jsx)(c.default,{href:"/dashboard",children:(0,r.jsxs)(m,{href:"/dashboard",children:[(0,r.jsx)("i",{className:"bi bi-grid mr-3"}),(0,r.jsx)("span",{children:"Dashboard"})]})}),(0,r.jsx)(c.default,{href:"/valider",children:(0,r.jsxs)(m,{href:"/update-dette",children:[(0,r.jsx)("i",{className:"bi bi-card-list mr-3"}),(0,r.jsx)("span",{children:"Valider des demandes"})]})}),(0,r.jsx)(c.default,{href:"/update-dette",children:(0,r.jsxs)(m,{children:[(0,r.jsx)("i",{className:"bi bi-pencil-square mr-3"}),(0,r.jsx)("span",{children:"Mettre \xe0 jour dette"})]})}),(0,r.jsx)(c.default,{href:"/listeclient",children:(0,r.jsxs)(m,{children:[(0,r.jsx)("i",{class:"bi bi-card-list mr-3"}),(0,r.jsx)("span",{children:"Liste Client"})]})}),(0,r.jsx)(c.default,{href:"/crediter",children:(0,r.jsxs)(m,{children:[(0,r.jsx)("i",{class:"bi bi-cash mr-3"}),(0,r.jsx)("span",{children:"Cr\xe9diter compte"})]})}),(0,r.jsx)(c.default,{href:"/admin-profil",children:(0,r.jsxs)(m,{children:[(0,r.jsx)("i",{className:"bi bi-person mr-3"}),(0,r.jsx)("span",{children:"My Profile"})]})}),(0,r.jsxs)(m,{onClick:t,children:[(0,r.jsx)("i",{class:"bi bi-box-arrow-right mr-3"}),(0,r.jsx)("span",{children:"Logout"})]})]})}),(0,r.jsx)("div",{className:"-mr-2 flex items-center sm:hidden",children:(0,r.jsx)("button",{onClick:()=>o(e=>!e),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out",children:(0,r.jsx)("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:l?(0,r.jsx)("path",{className:"inline-flex",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):(0,r.jsx)("path",{className:"inline-flex",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})})]})}),l&&(0,r.jsxs)("div",{className:"block sm:hidden",children:[(0,r.jsx)("div",{className:"pt-2 pb-3 space-y-1",children:(0,r.jsx)(x,{href:"/dashboard",active:"/dashboard"===(0,f.usePathname)(),children:"Dashboard"})}),(0,r.jsxs)("div",{className:"pt-4 pb-1 border-t border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center px-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"h-10 w-10 fill-current text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("div",{className:"font-medium text-base text-gray-800",children:null==s?void 0:s.name}),(0,r.jsx)("div",{className:"font-medium text-sm text-gray-500",children:null==s?void 0:s.email})]})]}),(0,r.jsxs)("div",{className:"mt-3 space-y-1",children:[(0,r.jsx)(c.default,{href:"/dashboard",children:(0,r.jsxs)(u,{children:[(0,r.jsx)("i",{className:"bi bi-grid mr-3"}),(0,r.jsx)("span",{children:"Dashboard"})]})}),(0,r.jsx)(c.default,{href:"/valider",children:(0,r.jsxs)(u,{children:[(0,r.jsx)("i",{className:"bi bi-card-list mr-3"}),(0,r.jsx)("span",{children:"Valider des demandes"})]})}),(0,r.jsx)(c.default,{href:"/update-dette",children:(0,r.jsxs)(u,{children:[(0,r.jsx)("i",{className:"bi bi-pencil-square mr-3"}),(0,r.jsx)("span",{children:"Mettre \xe0 jour dette"})]})}),(0,r.jsx)(c.default,{href:"/listeclient",children:(0,r.jsxs)(u,{children:[(0,r.jsx)("i",{class:"bi bi-person mr-3"}),(0,r.jsx)("span",{children:"Liste client"})]})}),(0,r.jsx)(c.default,{href:"/crediter",children:(0,r.jsxs)(u,{children:[(0,r.jsx)("i",{class:"bi bi-cash mr-3"}),(0,r.jsx)("span",{children:"Cr\xe9diter compte"})]})}),(0,r.jsx)(c.default,{href:"/admin-profil",children:(0,r.jsxs)(u,{children:[(0,r.jsx)("i",{className:"bi bi-person mr-3"}),(0,r.jsx)("span",{children:"My Profile"})]})}),(0,r.jsxs)(u,{onClick:t,children:[(0,r.jsx)("i",{class:"bi bi-box-arrow-right mr-2"}),(0,r.jsx)("span",{children:"Logout"})]})]})]})]})]})},g=t(98219),j=e=>{let{children:s}=e,{user:t}=(0,a.a)({middleware:"auth"}),i=(0,f.useRouter)();return((0,n.useEffect)(()=>{t&&"Admin"!==t.role&&i.push("/login")},[t,i]),t)?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,r.jsx)(p,{user:t}),(0,r.jsx)("main",{children:s})]}):(0,r.jsx)(g.Z,{})}},30349:function(e,s,t){"use strict";t.d(s,{a:function(){return l}});var r=t(31986),a=t(47228),i=t(2265),n=t(16463);let l=function(){let{middleware:e,redirectIfAuthenticated:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,n.useRouter)(),l=(0,n.useParams)(),{data:o,error:d,mutate:c}=(0,r.ZP)("/api/user",()=>a.Z.get("/api/user").then(e=>e.data).catch(e=>{if(409!==e.response.status)throw e;t.push("/verify-email")})),h=()=>a.Z.get("/sanctum/csrf-cookie"),u=async e=>{let{setErrors:s,...t}=e;await h(),s([]),a.Z.post("/register",t).then(()=>c()).catch(e=>{if(422!==e.response.status)throw e;s(e.response.data.errors)})},x=async e=>{let{setErrors:s,setStatus:t,...r}=e;await h(),s([]),t(null),a.Z.post("/login",r).then(()=>c()).catch(e=>{if(422!==e.response.status)throw e;s(e.response.data.errors)})},m=async e=>{let{setErrors:s,...t}=e;await h(),"function"==typeof s&&s([]),a.Z.post("/api/client-register",t).then(()=>c()).catch(e=>{if(422!==e.response.status)throw e;s(e.response.data.errors)})},f=async e=>{let{setErrors:s,setStatus:t,...r}=e;await h(),s([]),t(null),a.Z.post("/api/client-login",r).then(()=>c()).catch(e=>{if(422!==e.response.status)throw e;s(e.response.data.errors)})},p=async e=>{let{setErrors:s,setStatus:t,email:r}=e;await h(),s([]),t(null),a.Z.post("/forgot-password",{email:r}).then(e=>t(e.data.status)).catch(e=>{if(422!==e.response.status)throw e;s(e.response.data.errors)})},g=async e=>{let{setErrors:s,setStatus:r,...i}=e;await h(),s([]),r(null),a.Z.post("/reset-password",{token:l.token,...i}).then(e=>{"Admin"===e.data.role?t.push("/admin/login?reset="+btoa(e.data.status)):t.push("/login?reset="+btoa(e.data.status))}).catch(e=>{if(422!==e.response.status)throw e;s(e.response.data.errors)})},j=async()=>{d||await a.Z.post("/logout").then(()=>c()),window.location.pathname="/admin/login"},b=async()=>{d||await a.Z.post("/api/client-logout").then(()=>c()),window.location.pathname="/login"},v=()=>{["/admin/login","/admin/register","/dashboard","/valider","/admin-profil","/crediter","/listeclient","/user-info","/update-dette"].includes(window.location.pathname)?j():b()};return(0,i.useEffect)(()=>{"guest"===e&&s&&o&&t.push(s),"/verify-email"===window.location.pathname&&(null==o?void 0:o.email_verified_at)&&t.push(s),"auth"===e&&d&&v()},[o,d]),{user:o,register:u,login:x,registerClient:m,loginClient:f,forgotPassword:p,resetPassword:g,resendEmailVerification:e=>{let{setStatus:s}=e;a.Z.post("/email/verification-notification").then(e=>s(e.data.status))},logout:v}}},47228:function(e,s,t){"use strict";let r=t(38472).Z.create({baseURL:"https://metrobnque.xyz",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0,withXSRFToken:!0});s.Z=r}},function(e){e.O(0,[5501,8472,1986,231,6882,2971,7023,1744],function(){return e(e.s=60254)}),_N_E=e.O()}]);