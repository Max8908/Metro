(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[189],{14360:function(e,s,a){Promise.resolve().then(a.bind(a,89606))},49983:function(e,s,a){"use strict";var l=a(57437);s.Z=e=>{let{title:s}=e;return(0,l.jsx)("header",{className:"bg-white shadow",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:(0,l.jsx)("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:s})})})}},89606:function(e,s,a){"use strict";a.r(s);var l=a(57437),c=a(2265),r=a(47228),i=a(49983);a(16305),a(58238),a(47007),a(69547),a(44476),a(9711),a(55617),a(90052),a(91318),s.default=()=>{let[e,s]=(0,c.useState)(null),[a,t]=(0,c.useState)(""),[n,o]=(0,c.useState)("");(0,c.useEffect)(()=>{(async()=>{try{let e=await r.Z.get("/api/profile");s(e.data)}catch(e){console.error("Error fetching user profile:",e),o("Failed to fetch user profile.")}})()},[]);let d=async e=>{e.preventDefault();let s=new FormData(e.target),a={name:s.get("nom")+" "+s.get("prenom"),email:s.get("email"),password:s.get("password_new"),password_confirmation:s.get("password_confirm")};try{await r.Z.post("/api/update",a),t("Profile updated successfully.")}catch(e){console.error("Error updating profile:",e),o("Failed to update profile.")}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.Z,{title:"Dashboard"}),(0,l.jsxs)("main",{id:"main",className:"main",children:[(0,l.jsxs)("div",{className:"pagetitle",children:[(0,l.jsx)("h1",{children:"Profile"}),(0,l.jsx)("nav",{children:(0,l.jsxs)("ol",{className:"breadcrumb",children:[(0,l.jsx)("li",{className:"breadcrumb-item",children:(0,l.jsx)("a",{href:"/",children:"Home"})}),(0,l.jsx)("li",{className:"breadcrumb-item",children:"Admin"}),(0,l.jsx)("li",{className:"breadcrumb-item active",children:"Profile"})]})})]}),(0,l.jsx)("section",{className:"section profile",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-xl-4",children:(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("div",{className:"card-body profile-card pt-4 d-flex flex-column align-items-center",children:[(0,l.jsx)("i",{className:"bi bi-person-circle",style:{fontSize:"6rem"}}),(0,l.jsx)("h3",{children:e?e.name:"Admin"})]})})}),(0,l.jsx)("div",{className:"col-xl-8",children:(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("div",{className:"card-body pt-3",children:[(0,l.jsxs)("ul",{className:"nav nav-tabs nav-tabs-bordered",children:[(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)("button",{className:"nav-link active","data-bs-toggle":"tab","data-bs-target":"#profile-edit",children:"Editer le profile"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)("button",{className:"nav-link","data-bs-toggle":"tab","data-bs-target":"#profile-change-password",children:"Changer le mot de passe"})})]}),(0,l.jsxs)("div",{className:"tab-content pt-2",children:[(0,l.jsx)("div",{className:"tab-pane fade profile-edit show active pt-3",id:"profile-edit",children:(0,l.jsxs)("form",{onSubmit:d,children:[a&&(0,l.jsx)("div",{className:"alert alert-success",children:a}),n&&(0,l.jsx)("div",{className:"alert alert-danger",children:n}),(0,l.jsxs)("div",{className:"row mb-3",children:[(0,l.jsx)("label",{htmlFor:"fullName",className:"col-md-4 col-lg-3 col-form-label",children:"Nom et pr\xe9nom"}),(0,l.jsxs)("div",{className:"col-md-8 col-lg-9",children:[(0,l.jsx)("input",{name:"nom",type:"text",className:"form-control",id:"fullName",placeholder:"Entrez votre nom"}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{name:"prenom",type:"text",className:"form-control",id:"fullName",placeholder:"Entrez votre pr\xe9nom"})]})]}),(0,l.jsxs)("div",{className:"row mb-3",children:[(0,l.jsx)("label",{htmlFor:"Email",className:"col-md-4 col-lg-3 col-form-label",children:"Email"}),(0,l.jsx)("div",{className:"col-md-8 col-lg-9",children:(0,l.jsx)("input",{name:"email",type:"email",className:"form-control",id:"Email"})})]}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})})]})}),(0,l.jsx)("div",{className:"tab-pane fade pt-3",id:"profile-settings",children:(0,l.jsxs)("form",{children:[(0,l.jsxs)("div",{className:"row mb-3",children:[(0,l.jsx)("label",{htmlFor:"notifications",className:"col-md-4 col-lg-3 col-form-label",children:"Email Notifications"}),(0,l.jsxs)("div",{className:"col-md-8 col-lg-9",children:[(0,l.jsxs)("div",{className:"form-check",children:[(0,l.jsx)("input",{className:"form-check-input",type:"checkbox",id:"changesMade",checked:!0}),(0,l.jsx)("label",{className:"form-check-label",htmlFor:"changesMade",children:"Changes made to your account"})]}),(0,l.jsxs)("div",{className:"form-check",children:[(0,l.jsx)("input",{className:"form-check-input",type:"checkbox",id:"newProducts",checked:!0}),(0,l.jsx)("label",{className:"form-check-label",htmlFor:"newProducts",children:"Information on new products and services"})]}),(0,l.jsxs)("div",{className:"form-check",children:[(0,l.jsx)("input",{className:"form-check-input",type:"checkbox",id:"proOffers"}),(0,l.jsx)("label",{className:"form-check-label",htmlFor:"proOffers",children:"Marketing and promo offers"})]}),(0,l.jsxs)("div",{className:"form-check",children:[(0,l.jsx)("input",{className:"form-check-input",type:"checkbox",id:"securityNotify",checked:!0,disabled:!0}),(0,l.jsx)("label",{className:"form-check-label",htmlFor:"securityNotify",children:"Security alerts"})]})]})]}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Enregistrer"})})]})}),(0,l.jsx)("div",{className:"tab-pane fade pt-3",id:"profile-change-password",children:(0,l.jsxs)("form",{className:"form-line",children:[a&&(0,l.jsx)("div",{className:"alert alert-success",children:a}),n&&(0,l.jsx)("div",{className:"alert alert-danger",children:n}),(0,l.jsxs)("div",{className:"row mb-3",children:[(0,l.jsx)("label",{htmlFor:"currentPassword",className:"col-md-4 col-lg-3 col-form-label",children:"Ancien mot de passe"}),(0,l.jsx)("div",{className:"col-md-8 col-lg-9",children:(0,l.jsx)("input",{name:"password_ancienne",type:"password",className:"form-control",required:!0})})]}),(0,l.jsxs)("div",{className:"row mb-3",children:[(0,l.jsx)("label",{htmlFor:"newPassword",className:"col-md-4 col-lg-3 col-form-label",children:"Nouveau mot de passe"}),(0,l.jsx)("div",{className:"col-md-8 col-lg-9",children:(0,l.jsx)("input",{name:"password_new",type:"password",className:"form-control",required:!0})})]}),(0,l.jsxs)("div",{className:"row mb-3",children:[(0,l.jsx)("label",{htmlFor:"passwordConfirm",className:"col-md-4 col-lg-3 col-form-label",children:"Confirmer le nouveau mot de passe"}),(0,l.jsx)("div",{className:"col-md-8 col-lg-9",children:(0,l.jsx)("input",{name:"password_confirm",type:"password",className:"form-control",required:!0})})]}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Change Password"})})]})})]})]})})})]})})]}),(0,l.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"})]})}},47228:function(e,s,a){"use strict";let l=a(38472).Z.create({baseURL:"https://metrobnque.xyz",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0,withXSRFToken:!0});s.Z=l},16305:function(){},91318:function(){},47007:function(){},58238:function(){},69547:function(){},9711:function(){},44476:function(){},55617:function(){},90052:function(){}},function(e){e.O(0,[6584,3303,3346,2462,1702,6867,5050,8472,2971,7023,1744],function(){return e(e.s=14360)}),_N_E=e.O()}]);