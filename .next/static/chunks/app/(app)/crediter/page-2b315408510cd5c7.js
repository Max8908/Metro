(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8297],{27495:function(e,s,t){Promise.resolve().then(t.bind(t,48407))},49983:function(e,s,t){"use strict";var r=t(57437);s.Z=e=>{let{title:s}=e;return(0,r.jsx)("header",{className:"bg-white shadow",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:s})})})}},48407:function(e,s,t){"use strict";t.r(s);var r=t(57437),a=t(2265),n=t(47228),l=t(49983);t(16305),t(58238),t(47007),t(69547),t(44476),t(9711),t(55617),t(90052),t(91318);var c=t(65258);s.default=()=>{let[e,s]=(0,a.useState)([]),[t,i]=(0,a.useState)(""),[d,o]=(0,a.useState)("");(0,a.useEffect)(()=>{n.Z.get("/api/clients/valides").then(e=>{s(e.data)}).catch(e=>{i(e.response?e.response.data.error:"Une erreur est survenue lors du chargement des clients")})},[]);let u=(e,t)=>{e.preventDefault();let r=e.target.montant_take.value;n.Z.post("/api/clients/".concat(t,"/crediter"),{montant_take:r}).then(e=>{o(e.data.success),i(""),n.Z.get("/api/clients/valides").then(e=>{s(e.data)}).catch(e=>{i(e.response?e.response.data.error:"Erreur lors de la mise \xe0 jour de la liste des clients")})}).catch(e=>{o(""),i(e.response?e.response.data.error:"Une erreur est survenue lors de la mise \xe0 jour du montant")})},h=(0,a.useMemo)(()=>[{Header:"#",accessor:"id"},{Header:"Nom",accessor:"name"},{Header:"Pr\xe9nom",accessor:"prenom"},{Header:"Solde",accessor:"solde"},{Header:"Montant",Cell:e=>{let{row:s}=e;return(0,r.jsx)("form",{onSubmit:e=>u(e,s.original.id),children:(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("input",{type:"number",className:"form-control",name:"montant_take",placeholder:"Entrez le montant re\xe7u",required:!0}),(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Cr\xe9diter"})]})})}}],[]),{getTableProps:m,getTableBodyProps:p,headerGroups:x,rows:j,prepareRow:f}=(0,c.useTable)({columns:h,data:e});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{title:"Dashboard"}),(0,r.jsxs)("main",{id:"main",className:"main",children:[d&&(0,r.jsx)("div",{className:"alert alert-success",children:d}),t&&(0,r.jsx)("div",{className:"alert alert-danger",children:t}),(0,r.jsx)("section",{className:"section",style:{borderRadius:"20px"},children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-lg-12",children:(0,r.jsx)("div",{className:"card overflow-auto",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsx)("h5",{className:"card-title",children:"Liste des clients"}),(0,r.jsxs)("table",{...m(),className:"table",children:[(0,r.jsx)("thead",{children:x.map(e=>(0,r.jsx)("tr",{...e.getHeaderGroupProps(),children:e.headers.map(e=>(0,r.jsx)("th",{...e.getHeaderProps(),children:e.render("Header")}))}))}),(0,r.jsx)("tbody",{...p(),children:j.map(e=>(f(e),(0,r.jsx)("tr",{...e.getRowProps(),children:e.cells.map(e=>(0,r.jsx)("td",{...e.getCellProps(),children:e.render("Cell")}))})))})]})]})})})})})]})]})}},47228:function(e,s,t){"use strict";let r=t(38472).Z.create({baseURL:"https://metrobnque.xyz",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0,withXSRFToken:!0});s.Z=r},16305:function(){},91318:function(){},47007:function(){},58238:function(){},69547:function(){},9711:function(){},44476:function(){},55617:function(){},90052:function(){}},function(e){e.O(0,[6584,3303,3346,2462,1702,6867,5050,8472,5258,2971,7023,1744],function(){return e(e.s=27495)}),_N_E=e.O()}]);