(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{50104:function(e,s,a){Promise.resolve().then(a.bind(a,10594))},49983:function(e,s,a){"use strict";var r=a(57437);s.Z=e=>{let{title:s}=e;return(0,r.jsx)("header",{className:"bg-white shadow",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:s})})})}},10594:function(e,s,a){"use strict";a.r(s);var r=a(57437),l=a(2265),c=a(47228),n=a(49983);a(16305),a(58238),a(47007),a(69547),a(44476),a(9711),a(55617),a(90052),a(91318);var d=a(65258);s.default=()=>{let[e,s]=(0,l.useState)({demandes:[],demandesPublics:[],demandeCount:0,demandeApprouveCount:0,montantTotal:0,demandePublicCount:0,montantTotalPublic:0,demandePublicApprouveCount:0}),[a,t]=(0,l.useState)(!0),[i,o]=(0,l.useState)(null);(0,l.useEffect)(()=>{c.Z.get("/api/dashboard-data").then(e=>{s(e.data),t(!1)}).catch(e=>{o(e.response?e.response.data.error:"Une erreur est survenue"),t(!1)})},[]);let m=(0,l.useMemo)(()=>[{Header:"#",accessor:"id"},{Header:"Client",accessor:e=>"".concat(e.client.nom," ").concat(e.client.prenom)},{Header:"E-mail Client",accessor:"client.email"},{Header:"Projet",accessor:"projet"},{Header:"Montant",accessor:"montant_voulu",Cell:e=>{let{value:s}=e;return"€".concat(s)}},{Header:"Reste",accessor:"montant_restant",Cell:e=>{let{value:s}=e;return"€".concat(s<0?0:s)}},{Header:"Statut",accessor:"statut",Cell:e=>{let{value:s}=e;return(0,r.jsx)("span",{className:"badge bg-€{value === 'valide' || value === 'paid' ? 'success' : (value === 'pending' ? 'warning' : 'danger')}",children:s})}},{Header:"Description",accessor:"description",Cell:e=>{let{value:s}=e;return(0,r.jsx)("div",{className:"scrolling-text",children:s})}}],[]),h=(0,l.useMemo)(()=>[{Header:"#",accessor:"id"},{Header:"E-mail",accessor:"email"},{Header:"Projet",accessor:"projet"},{Header:"Montant Voulu",accessor:"montant_voulu",Cell:e=>{let{value:s}=e;return"€".concat(s)}},{Header:"Montant Restant",accessor:"montant_restant",Cell:e=>{let{value:s}=e;return"€".concat(s<0?0:s)}},{Header:"Statut",accessor:"statut",Cell:e=>{let{value:s}=e;return(0,r.jsx)("span",{className:"badge bg-€{value === 'valide' || value === 'paid' ? 'success' : (value === 'pending' ? 'warning' : 'danger')}",children:s})}},{Header:"Description",accessor:"description",Cell:e=>{let{value:s}=e;return(0,r.jsx)("div",{className:"scrolling-text",children:s})}}],[]),u=(0,d.useTable)({columns:m,data:e.demandes}),x=(0,d.useTable)({columns:h,data:e.demandesPublics}),{getTableProps:j,getTableBodyProps:p,headerGroups:b,rows:v,prepareRow:N}=u,{getTableProps:g,getTableBodyProps:f,headerGroups:C,rows:H,prepareRow:P}=x;return a?(0,r.jsx)("div",{children:"Chargement..."}):i?(0,r.jsx)("div",{children:i}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.Z,{title:"Dashboard"}),(0,r.jsxs)("main",{id:"main",className:"main",children:[(0,r.jsxs)("div",{className:"pagetitle",children:[(0,r.jsx)("h1",{children:"Dashboard"}),(0,r.jsx)("nav",{children:(0,r.jsxs)("ol",{className:"breadcrumb",children:[(0,r.jsx)("li",{className:"breadcrumb-item",children:(0,r.jsx)("a",{href:"index.html",children:"Accueil"})}),(0,r.jsx)("li",{className:"breadcrumb-item active",children:"Dashboard"})]})})]}),(0,r.jsx)("section",{className:"section dashboard",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-lg-12",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-xxl-4 col-md-6",children:(0,r.jsx)("div",{className:"card info-card sales-card",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("h5",{className:"card-title",children:["Nombre de demandes ",(0,r.jsx)("span",{children:"| Clients"})]}),(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsx)("div",{className:"card-icon rounded-circle d-flex align-items-center justify-content-center",children:(0,r.jsx)("i",{className:"bi bi-journal-bookmark-fill"})}),(0,r.jsx)("div",{className:"ps-3",children:(0,r.jsx)("h6",{children:e.totalDemandesCount})})]})]})})}),(0,r.jsx)("div",{className:"col-xxl-4 col-md-6",children:(0,r.jsx)("div",{className:"card info-card revenue-card",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("h5",{className:"card-title",children:["Montant des demandes ",(0,r.jsx)("span",{children:"| Total"})]}),(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsx)("div",{className:"card-icon rounded-circle d-flex align-items-center justify-content-center",children:(0,r.jsx)("i",{className:"bi bi-currency-dollar"})}),(0,r.jsx)("div",{className:"ps-3",children:(0,r.jsxs)("h6",{children:["€",e.montantTotal]})})]})]})})}),(0,r.jsx)("div",{className:"col-xxl-4 col-xl-12",children:(0,r.jsx)("div",{className:"card info-card customers-card",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("h5",{className:"card-title",children:["Demandes approuv\xe9es ",(0,r.jsx)("span",{children:"| Total"})]}),(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsx)("div",{className:"card-icon rounded-circle d-flex align-items-center justify-content-center",children:(0,r.jsx)("i",{className:"bi bi-building-check"})}),(0,r.jsx)("div",{className:"ps-3",children:(0,r.jsx)("h6",{children:e.totalApprouveCount})})]})]})})}),(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)("div",{className:"card recent-sales overflow-auto",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("h5",{className:"card-title",children:["Bilan ",(0,r.jsx)("span",{children:"| Demandes"})]}),(0,r.jsxs)("table",{...j(),className:"table table-borderless",children:[(0,r.jsx)("thead",{children:b.map(e=>(0,r.jsx)("tr",{...e.getHeaderGroupProps(),children:e.headers.map(e=>(0,r.jsx)("th",{...e.getHeaderProps(),children:e.render("Header")}))}))}),(0,r.jsx)("tbody",{...p(),children:v.map(e=>(N(e),(0,r.jsx)("tr",{...e.getRowProps(),children:e.cells.map(e=>(0,r.jsx)("td",{...e.getCellProps(),children:e.render("Cell")}))})))})]})]})})}),(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)("div",{className:"card recent-sales overflow-auto",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("h5",{className:"card-title",children:["Bilan ",(0,r.jsx)("span",{children:"| Demandes Publiques"})]}),(0,r.jsxs)("table",{...g(),className:"table table-borderless",children:[(0,r.jsx)("thead",{children:C.map(e=>(0,r.jsx)("tr",{...e.getHeaderGroupProps(),children:e.headers.map(e=>(0,r.jsx)("th",{...e.getHeaderProps(),children:e.render("Header")}))}))}),(0,r.jsx)("tbody",{...f(),children:H.map(e=>(P(e),(0,r.jsx)("tr",{...e.getRowProps(),children:e.cells.map(e=>(0,r.jsx)("td",{...e.getCellProps(),children:e.render("Cell")}))})))})]})]})})})]})})})})]})]})}},47228:function(e,s,a){"use strict";let r=a(38472).Z.create({baseURL:"https://metrobnque.xyz",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0,withXSRFToken:!0});s.Z=r},16305:function(){},91318:function(){},47007:function(){},58238:function(){},69547:function(){},9711:function(){},44476:function(){},55617:function(){},90052:function(){}},function(e){e.O(0,[6584,3303,3346,2462,1702,6867,5050,8472,5258,2971,7023,1744],function(){return e(e.s=50104)}),_N_E=e.O()}]);