(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6723],{13466:function(e,r,s){Promise.resolve().then(s.bind(s,15451))},16463:function(e,r,s){"use strict";s.r(r);var a=s(71169),t={};for(var c in a)"default"!==c&&(t[c]=(function(e){return a[e]}).bind(0,c));s.d(r,t)},49983:function(e,r,s){"use strict";var a=s(57437);r.Z=e=>{let{title:r}=e;return(0,a.jsx)("header",{className:"bg-white shadow",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:r})})})}},15451:function(e,r,s){"use strict";s.r(r);var a=s(57437),t=s(49983);s(16305),s(58238),s(47007),s(69547),s(44476),s(9711),s(55617),s(90052),s(91318);var c=s(2265),l=s(16463),n=s(47228),i=s(65258);r.default=()=>{let[e,r]=(0,c.useState)([]),[s,d]=(0,c.useState)([]),o=(0,l.useRouter)();(0,c.useEffect)(()=>{n.Z.get("/api/clients/valides").then(e=>{r(e.data)}).catch(e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des clients valides:",e)}),n.Z.get("/api/clients/invalides").then(e=>{d(e.data)}).catch(e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des clients invalides:",e)})},[]);let u=async(e,s)=>{e.preventDefault();try{let e=await n.Z.post("/api/clients/".concat(s,"/activer"));e.data.message?(alert("Client activ\xe9 avec succ\xe8s"),n.Z.get("/api/clients/valides").then(e=>{r(e.data)}).catch(e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des clients valides:",e)}),n.Z.get("/api/clients/invalides").then(e=>{d(e.data)}).catch(e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des clients invalides:",e)})):alert("Erreur: "+e.data.error)}catch(e){console.error("Erreur lors de l'activation du client:",e),alert("Une erreur est survenue.")}},h=e=>{o.push("/user-info?clientId=".concat(e))},m=(0,c.useMemo)(()=>[{Header:"#",accessor:"id"},{Header:"email",accessor:"email"},{Header:"Nom",accessor:"name"},{Header:"Pr\xe9nom",accessor:"prenom"},{Header:"Num\xe9ro",accessor:"tel"}],[]),p=(0,c.useMemo)(()=>[{Header:"#",accessor:"id"},{Header:"email",accessor:"email"},{Header:"Nom",accessor:"name"},{Header:"Pr\xe9nom",accessor:"prenom"},{Header:"Num\xe9ro",accessor:"tel"},{Header:"Actions",accessor:"actions",Cell:e=>{let{row:r}=e;return(0,a.jsx)("button",{onClick:e=>u(e,r.original.id),className:"badge bg-success",children:"Activer"})}}],[]),{getTableProps:x,getTableBodyProps:v,headerGroups:j,rows:f,prepareRow:g}=(0,i.useTable)({columns:m,data:e}),{getTableProps:b,getTableBodyProps:N,headerGroups:H,rows:w,prepareRow:P}=(0,i.useTable)({columns:p,data:s});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.Z,{title:"Dashboard"}),(0,a.jsx)("main",{id:"main",className:"main",children:(0,a.jsx)("section",{className:"section",style:{borderRadius:"20px"},children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-lg-12",children:(0,a.jsx)("div",{className:"card overflow-auto",children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)("h5",{className:"card-title",children:"Liste des clients valides"}),(0,a.jsxs)("table",{...x(),className:"table",children:[(0,a.jsx)("thead",{children:j.map(e=>(0,a.jsx)("tr",{...e.getHeaderGroupProps(),children:e.headers.map(e=>(0,a.jsx)("th",{...e.getHeaderProps(),children:e.render("Header")}))}))}),(0,a.jsx)("tbody",{...v(),children:f.map(e=>(g(e),(0,a.jsx)("tr",{...e.getRowProps(),onClick:()=>h(e.original.id),style:{cursor:"pointer"},children:e.cells.map(e=>(0,a.jsx)("td",{...e.getCellProps(),children:e.render("Cell")}))})))})]})]})})}),(0,a.jsx)("div",{className:"col-lg-12",children:(0,a.jsx)("div",{className:"card overflow-auto",children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)("h5",{className:"card-title",children:"Liste des clients non valides"}),(0,a.jsxs)("table",{...b(),className:"table",children:[(0,a.jsx)("thead",{children:H.map(e=>(0,a.jsx)("tr",{...e.getHeaderGroupProps(),children:e.headers.map(e=>(0,a.jsx)("th",{...e.getHeaderProps(),children:e.render("Header")}))}))}),(0,a.jsx)("tbody",{...N(),children:w.map(e=>(P(e),(0,a.jsx)("tr",{...e.getRowProps(),children:e.cells.map(e=>(0,a.jsx)("td",{...e.getCellProps(),children:e.render("Cell")}))})))})]})]})})})]})})})]})}},47228:function(e,r,s){"use strict";let a=s(38472).Z.create({baseURL:"https://metrobnque.xyz",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0,withXSRFToken:!0});r.Z=a},16305:function(){},91318:function(){},47007:function(){},58238:function(){},69547:function(){},9711:function(){},44476:function(){},55617:function(){},90052:function(){}},function(e){e.O(0,[6584,3303,3346,2462,1702,6867,5050,8472,5258,2971,7023,1744],function(){return e(e.s=13466)}),_N_E=e.O()}]);