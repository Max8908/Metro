(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1689],{70602:function(e,t,s){Promise.resolve().then(s.bind(s,10625))},49983:function(e,t,s){"use strict";var r=s(57437);t.Z=e=>{let{title:t}=e;return(0,r.jsx)("header",{className:"bg-white shadow",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:t})})})}},10625:function(e,t,s){"use strict";s.r(t);var r=s(57437),a=s(2265),n=s(47228),c=s(49983);s(16305),s(58238),s(47007),s(69547),s(44476),s(9711),s(55617),s(90052),s(91318);var l=s(65258);t.default=()=>{let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(""),[d,o]=(0,a.useState)("");(0,a.useEffect)(()=>{n.Z.get("/api/clientsdettes").then(e=>{t(e.data)}).catch(e=>{i(e.response?e.response.data.error:"Une erreur est survenue lors du chargement des clients")})},[]);let u=(e,s)=>{e.preventDefault();let r=e.target.montant_take.value;n.Z.post("/api/clients/".concat(s,"/update"),{montant_take:r}).then(e=>{o(e.data.success),i(""),n.Z.get("/api/clientsdettes").then(e=>{t(e.data)}).catch(e=>{i(e.response?e.response.data.error:"Erreur lors de la mise \xe0 jour de la liste des clients")})}).catch(e=>{o(""),i(e.response?e.response.data.error:"Une erreur est survenue lors de la mise \xe0 jour du montant")})},m=(0,a.useMemo)(()=>[{Header:"#",accessor:"id"},{Header:"Nom",accessor:"name"},{Header:"Pr\xe9nom",accessor:"prenom"},{Header:"Montant restant",accessor:"montant_restant"},{Header:"Mettre \xe0 jour",accessor:"actions",Cell:e=>{let{row:t}=e;return(0,r.jsx)("form",{onSubmit:e=>u(e,t.original.demande_id),children:(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("input",{type:"number",className:"form-control",name:"montant_take",placeholder:"Entrez le montant re\xe7u",required:!0}),(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Mettre \xe0 jour"})]})})}}],[]),{getTableProps:h,getTableBodyProps:p,headerGroups:x,rows:j,prepareRow:f}=(0,l.useTable)({columns:m,data:e});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{title:"Dashboard"}),(0,r.jsxs)("main",{id:"main",className:"main",children:[d&&(0,r.jsx)("div",{className:"alert alert-success",children:d}),s&&(0,r.jsx)("div",{className:"alert alert-danger",children:s}),(0,r.jsx)("section",{className:"section",style:{borderRadius:"20px"},children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-lg-12",children:(0,r.jsx)("div",{className:"card overflow-auto",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsx)("h5",{className:"card-title",children:"Liste des clients"}),(0,r.jsxs)("table",{...h(),className:"table",children:[(0,r.jsx)("thead",{children:x.map(e=>(0,r.jsx)("tr",{...e.getHeaderGroupProps(),children:e.headers.map(e=>(0,r.jsx)("th",{...e.getHeaderProps(),children:e.render("Header")}))}))}),(0,r.jsx)("tbody",{...p(),children:j.map(e=>(f(e),(0,r.jsx)("tr",{...e.getRowProps(),children:e.cells.map(e=>(0,r.jsx)("td",{...e.getCellProps(),children:e.render("Cell")}))})))})]})]})})})})})]})]})}},47228:function(e,t,s){"use strict";let r=s(38472).Z.create({baseURL:"https://metrobnque.xyz",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0,withXSRFToken:!0});t.Z=r},16305:function(){},91318:function(){},47007:function(){},58238:function(){},69547:function(){},9711:function(){},44476:function(){},55617:function(){},90052:function(){}},function(e){e.O(0,[6584,3303,3346,2462,1702,6867,5050,8472,5258,2971,7023,1744],function(){return e(e.s=70602)}),_N_E=e.O()}]);